;; State type
(define-state-type state_type (
  (x Int)
  (y Int)  
  (a (Array Int (Array Int Int)))
))

;; Initial states 
(define-states initial_states state_type
  (and 
    (= x 0)
    (= y 0)
  )
)

;; One transition 
(define-transition transition state_type
  ;; Implicit variables next, state
  (and 
    (= next.x (+ state.x state.y)) 
    (= next.y (+ state.y 1))
    (= next.a 
        (store state.a state.x 
            (store (select state.a state.x) state.y 0)
        )
    )    
  )
)

;; The system
(define-transition-system T 
  state_type
  initial_states
  transition
)

;; Query
(query T (and (< x 1) (= (select (select a 2) 2) 0)))

